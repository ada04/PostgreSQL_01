### Урок 5 - Создание таблиц - продолжение

```pgsql
drop table emp;
```

```pgsql
create table emp (
  id smallserial primary key,
  name varchar(200) not null,
  birthday timestamp );
```

```pgsql
insert into emp (name, birthday) values ('Ivan Ivanov', '20.02.1990');
select * from emp;
insert into emp (name, birthday) values ('Petr is bud Ivanov', '20.02.2990');
select * from emp;
```

```pgsql
select now() - interval'16 year';
```

```pgsql
alter table emp add constraint emp_check_bd check (birthday < now() - interval'16 year');
```

```pgsql
delete from emp where id = 2;
select * from emp;
alter table emp add constraint emp_check_bd check (birthday < now() - interval'16 year');
```

```pgsql
insert into emp (name, birthday) values ('Petr is bud Ivanov', '20.02.2990');
select * from emp;
```

```pgsql
alter table emp add column lastname varchar(200);
```

```pgsql
alter table emp rename column name to firstname;
select * from emp;
```

```pgsql
alter table emp add column salary int2;
insert into emp (firstname, salary ) values ('Sergey', 32767);
select * from emp;
```

```pgsql
insert into emp (firstname, salary ) values ('Oleg', 32768);
alter table emp alter column salary type int4;
```

```pgsql
insert into emp (firstname, salary ) values ('Oleg', 32768);
```

```pgsql
alter table emp alter column salary type int2;
```

```pgsql
alter table emp add column city varchar(200) not null;
```

```pgsql
alter table emp add column city varchar(200) not null default 'Empty';
```

```pgsql
drop table emp;
```

```pgsql
create table emp (
  id smallserial primary key,
  name varchar(200) not null,
  birthday timestamp );
```

```pgsql
create table org (
  id serial primary key,
  name varchar(100) not null);
```

```pgsql
alter table emp add column org_id int4;
```

```pgsql
alter table emp add constraint emp_fk_org foreign key (org_id) references org(id);
```

```pgsql
insert into org(name) values ('Main');
select * from org;
insert into emp(name, org_id) values ('Ivan', 1);
select * from emp;
```

```pgsql
drop table emp;
```

```pgsql
drop table org;
```

```pgsql
drop table org cascade;
```

```pgsql
alter table emp add constraint emp_fk_org foreign key (org_id) references org(id) on delete cascade;
```

```pgsql
drop table org;
```

```pgsql
drop table org cascade;
```

alter table emp add constraint emp_fk_org foreign key (org_id) references org(id) on delete set null;
