### Урок 4 Создание таблиц

CREATE TABLE aircrafts (
	aircraft_code varchar NOT NULL,
	model varchar NOT NULL,
	"range" int2 NOT NULL,
	CONSTRAINT aircrafts_pk PRIMARY KEY (aircraft_code)
);

CREATE TABLE aircrafts_wpk (
	aircraft_code varchar NOT NULL,
	model varchar NOT NULL,
	"range" int2 NOT null);

CREATE TABLE aircrafts_spk (
	aircraft_code varchar NOT null PRIMARY KEY,
	model varchar NOT NULL,
	"range" int2 NOT null);

insert into aircrafts (aircraft_code, model, "range") values ('320', 'Airbus A320', 4800);
insert into aircrafts (aircraft_code, model, "range") values ('32a', 'Airbus A320a', 5000);
insert into aircrafts_wpk (aircraft_code, model, "range") values ('320', 'Airbus A320', 4800);
insert into aircrafts_wpk (aircraft_code, model, "range") values ('320', 'Airbus A320a', 5000);

select * from aircrafts a ;
select * from aircrafts_wpk a ;

update aircrafts a set model='Airbus A320' where a.aircraft_code ='320';

update aircrafts a set aircraft_code='320' where a.aircraft_code ='32a';


```pgsql
create table seats (
  aircraft_code varchar not null,
  seat_no varchar not null,
  fare_conditions varchar not null,
  constraint seats_pk primary key (aircraft_code, seat_no),
  constraint seats_fk_aircrafts foreign key (aircraft_code) 
     REFERENCES aircrafts(aircraft_code));
```

insert into seats (aircraft_code, seat_no, fare_conditions) values ('320', '1A', 'Business');
insert into seats (aircraft_code, seat_no, fare_conditions) values ('320', '1C', 'Business');
insert into seats (aircraft_code, seat_no, fare_conditions) values ('320', '1D', 'Business');
insert into seats (aircraft_code, seat_no, fare_conditions) values ('320', '1F', 'Business');

select * from seats;

insert into seats (aircraft_code, seat_no, fare_conditions) values ('32b', '1A', 'Business');

insert into seats (aircraft_code, seat_no, fare_conditions) values ('320', '1A', 'Business');

drop table seats_2;

create table seats_2 (
  seat_id serial primary key,
  aircraft_code varchar not null,
  seat_no varchar not null,
  fare_conditions varchar not null,
  constraint seats_uk unique (aircraft_code, seat_no),
  constraint seats_fk_aircrafts foreign key (aircraft_code) 
     REFERENCES aircrafts(aircraft_code));

insert into seats_2 (aircraft_code, seat_no, fare_conditions) values ('320', '1A', 'Business');
insert into seats_2 (aircraft_code, seat_no, fare_conditions) values ('320', '1C', 'Business');
insert into seats_2 (aircraft_code, seat_no, fare_conditions) values ('320', '1D', 'Business');
insert into seats_2 (aircraft_code, seat_no, fare_conditions) values ('320', '1F', 'Business');

select * from seats_2;

insert into seats_2 (aircraft_code, seat_no, fare_conditions) values ('32b', '1A', 'Business');

insert into seats_2 (aircraft_code, seat_no, fare_conditions) values ('320', '1A', 'Business');
